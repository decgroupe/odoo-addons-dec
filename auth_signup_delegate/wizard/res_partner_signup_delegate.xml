<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record model="ir.ui.view" id="res_partner_signup_delegate_form_view">
        <field name="name">res.partner.signup.delegate@auth_signup_delegate</field>
        <field name="model">res.partner.signup.delegate</field>
        <field name="arch" type="xml">
            <form string="Select Options">
                <p
                    name="tooltip_unavailable"
                    class="oe_grey"
                    attrs="{'invisible': [('user_id', '!=', False)]}"
                >
                    This partner is <b>not</b> in the <b>Portal</b> group.<br />
                    <b>Give him a portal access first.</b>
                </p>
                <p
                    name="tooltip_available"
                    class="oe_grey"
                    attrs="{'invisible': [('user_id', '=', False)]}"
                >
                    Use these <b>informations</b> for maintenance/testing only.
                </p>
                <group name="main" attrs="{'invisible': [('user_id', '=', False)]}">
                    <field name="user_id" invisible="1" />
                    <field name="token" invisible="1"/>
                    <field name="url" attrs="{'invisible': ['|', ('user_id', '=', False), ('token', '=', False)]}"/>
                </group>
                <footer>
                    <button
                        class="btn-primary"
                        string="Generate a Sign-up Delegation Token"
                        name="action_init_signup_delegation"
                        type="object"
                        default_focus="1"
                        attrs="{'invisible': ['|', ('user_id', '=', False), ('token', '!=', False)]}"
                        context="{}"
                    >
                    </button>
                    <button
                        class="btn-primary"
                        string="Cancel Sign-up Delegation"
                        name="action_cancel_signup_delegation"
                        type="object"
                        default_focus="1"
                        attrs="{'invisible': ['|', ('user_id', '=', False), ('token', '=', False)]}"
                        context="{}"
                    >
                    </button>
                    <button
                        class="btn-secondary"
                        string="Close"
                        special="cancel"
                        context="{}"
                    >
                    </button>
                </footer>
            </form>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_res_partner_signup_delegate">
        <field name="name">Sign-up Delegate</field>
        <field name="res_model">res.partner.signup.delegate</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field
            name="groups_id"
            eval="[(4,ref('auth_signup_delegate.group_delegate'))]"
        />
    </record>

    <record id="act_window_res_partner_signup_delegate" model="ir.actions.act_window">
        <field name="name">🧙‍♂️ Sign-up Delegation ...</field>
        <field name="binding_model_id" ref="base.model_res_partner" />
        <field name="binding_view_types">form</field>
        <field name="res_model">res.partner.signup.delegate</field>
        <field name="view_mode">form</field>
        <field
            name="groups_id"
            eval="[(4, ref('auth_signup_delegate.group_delegate'))]"
        />
        <field name="target">new</field>
    </record>
    
</odoo>
